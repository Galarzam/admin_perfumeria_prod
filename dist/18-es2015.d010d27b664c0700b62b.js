(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{VC8i:function(t,e,c){"use strict";c.r(e),c.d(e,"SalesModule",function(){return y});var n=c("ofXK"),i=c("tyNb"),b=c("fXoL");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Mb({type:t,selectors:[["app-sales"]],decls:1,vars:0,template:function(t,e){1&t&&b.Tb(0,"router-outlet")},directives:[i.l],styles:[""]}),t})();var s=c("1kSV");function a(t,e){if(1&t&&(b.Wb(0),b.Tb(1,"br"),b.Yb(2,"small"),b.Nc(3),b.Xb(),b.Tb(4,"br"),b.Yb(5,"small"),b.Nc(6),b.Xb(),b.Vb()),2&t){const t=b.mc().$implicit,e=b.mc();b.Fb(3),b.Pc("CUPON: ",t.code_cupon,""),b.Fb(3),b.Qc("PRECIO UNITARIO: ",t.precio_unitario," ",e.sale.currency_payment," ")}}function l(t,e){if(1&t&&(b.Yb(0,"tr"),b.Yb(1,"td"),b.Nc(2),b.Xb(),b.Yb(3,"td"),b.Tb(4,"img",13),b.Xb(),b.Yb(5,"td",14),b.Nc(6),b.Xb(),b.Yb(7,"td",14),b.Nc(8),b.Lc(9,a,7,3,"ng-container",15),b.Xb(),b.Yb(10,"td",14),b.Nc(11),b.Xb(),b.Tb(12,"td"),b.Xb()),2&t){const t=e.$implicit;b.Fb(2),b.Oc(t.title),b.Fb(2),b.sc("src",t.imagen,b.Ec),b.Fb(2),b.Oc(t.cantidad),b.Fb(2),b.Pc(" ",t.total," "),b.Fb(1),b.sc("ngIf",t.code_cupon),b.Fb(2),b.Oc(t.total)}}let r=(()=>{class t{constructor(t){this.modal=t}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(s.d))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-detail-sales-list"]],inputs:{sale:"sale"},decls:27,vars:2,consts:[[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","flaticon-file-1","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[1,"row"],[1,"col-12"],[1,"table-responsive"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["width","100","alt","","srcset","",3,"src"],[1,"text-nowrap"],[4,"ngIf"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"div",1),b.Yb(2,"div",2),b.Tb(3,"i",3),b.Nc(4),b.Xb(),b.Xb(),b.Yb(5,"div",4),b.Yb(6,"div",5),b.Yb(7,"div",6),b.Yb(8,"div",7),b.Yb(9,"table",8),b.Yb(10,"thead"),b.Yb(11,"tr",9),b.Yb(12,"th"),b.Nc(13,"PRODUCTO"),b.Xb(),b.Yb(14,"th"),b.Nc(15,"PORTADA"),b.Xb(),b.Yb(16,"th"),b.Nc(17,"CANTIDAD"),b.Xb(),b.Yb(18,"th"),b.Nc(19,"SUBTOTAL"),b.Xb(),b.Yb(20,"th"),b.Nc(21,"TOTAL"),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"tbody"),b.Lc(23,l,13,6,"tr",10),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Yb(24,"div",11),b.Yb(25,"button",12),b.ic("click",function(){return e.modal.dismiss()}),b.Nc(26," Cerrar "),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Fb(4),b.Pc(" Orden: ",e.sale.user.full_name," "),b.Fb(19),b.sc("ngForOf",e.sale.items))},directives:[n.m,n.n],styles:[""]}),t})();var d=c("tk/3"),p=c("2Vo4"),h=c("nYR2"),u=c("0np6"),m=c("tmEo");let f=(()=>{class t{constructor(t,e){this.http=t,this.authservice=e,this.isLoadingSubject=new p.a(!1),this.isLoading$=this.isLoadingSubject.asObservable()}allSales(t=1,e){this.isLoadingSubject.next(!0);let c=new d.d({Authorization:"Bearer"+this.authservice.token});return this.http.post(u.b+"/sales/all?page="+t,e,{headers:c}).pipe(Object(h.a)(()=>this.isLoadingSubject.next(!1)))}}return t.\u0275fac=function(e){return new(e||t)(b.fc(d.b),b.fc(m.a))},t.\u0275prov=b.Ob({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var X=c("3Pt+");function Y(t,e){1&t&&(b.Wb(0),b.Tb(1,"span",21),b.Vb())}function g(t,e){if(1&t){const t=b.Zb();b.Yb(0,"tr"),b.Yb(1,"td"),b.Nc(2),b.Xb(),b.Yb(3,"td"),b.Nc(4),b.Xb(),b.Yb(5,"td"),b.Nc(6),b.Xb(),b.Yb(7,"td"),b.Nc(8),b.Xb(),b.Yb(9,"td"),b.Nc(10),b.Xb(),b.Yb(11,"td"),b.Yb(12,"a",22),b.ic("click",function(){b.Cc(t);const c=e.$implicit;return b.mc().showDetail(c)}),b.Yb(13,"span",23),b.lc(),b.Yb(14,"svg",24),b.Yb(15,"g",25),b.Tb(16,"rect",26),b.Tb(17,"path",27),b.Tb(18,"path",28),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb(),b.Xb()}if(2&t){const t=e.$implicit;b.Fb(2),b.Oc(t.n_transaccion),b.Fb(2),b.Oc(t.method_payment),b.Fb(2),b.Oc(t.currency_total),b.Fb(2),b.Oc(t.user.full_name.toUpperCase()),b.Fb(2),b.Oc(t.total)}}const v=[{path:"",component:o,children:[{path:"lista-de-ordenes",component:(()=>{class t{constructor(t,e){this._salesServices=t,this._modelService=e,this.SALES=[],this.isLoading$=null,this.search=null}ngOnInit(){this.isLoading$=this._salesServices.isLoadingSubject,this.allSales()}allSales(t=1){this._salesServices.allSales(t,{search:this.search}).subscribe(t=>{console.log(t),this.SALES=t.orders.data})}reset(){this.search=null,this.allSales()}showDetail(t){const e=this._modelService.open(r,{centered:!0,size:"md"});e.componentInstance.sale=t,e.result.then(()=>{},()=>{})}}return t.\u0275fac=function(e){return new(e||t)(b.Sb(f),b.Sb(s.y))},t.\u0275cmp=b.Mb({type:t,selectors:[["app-sales-list"]],decls:40,vars:7,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","lista","de","flaticon","mx-2"],[1,"card-toolbar"],[1,"card-body"],[4,"ngIf"],[1,"row"],[1,"col-6"],["type","text","name","search","placeholder","Buscar","value","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-text","text-muted"],[1,"col-3"],["placement","top",1,"btn","btn-primary","ml-2",3,"ngbTooltip","click"],[1,"icon","text-white","flaticon-search-1"],["placement","top",1,"btn","btn-dark","ml-2",3,"ngbTooltip","click"],[1,"icon","text-white","flaticon-refresh"],[1,"table-responsive"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[4,"ngFor","ngForOf"],[1,"spinner","spinner-primary","ml-5"],["ngbTooltip","Detalle de la Orden","ngbTooltipClass","kt-tooltip",1,"btn","btn-icon","btn-light","btn-hover-info","btn-sm",3,"click"],[1,"svg-icon","svg-icon-md","svg-icon-info"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M18.1446364,11.84388 L17.4471627,16.0287218 C17.4463569,16.0335568 17.4455155,16.0383857 17.4446387,16.0432083 C17.345843,16.5865846 16.8252597,16.9469884 16.2818833,16.8481927 L4.91303792,14.7811299 C4.53842737,14.7130189 4.23500006,14.4380834 4.13039941,14.0719812 L2.30560137,7.68518803 C2.28007524,7.59584656 2.26712532,7.50338343 2.26712532,7.4104669 C2.26712532,6.85818215 2.71484057,6.4104669 3.26712532,6.4104669 L16.9929851,6.4104669 L17.606173,3.78251876 C17.7307772,3.24850086 18.2068633,2.87071314 18.7552257,2.87071314 L20.8200821,2.87071314 C21.4717328,2.87071314 22,3.39898039 22,4.05063106 C22,4.70228173 21.4717328,5.23054898 20.8200821,5.23054898 L19.6915238,5.23054898 L18.1446364,11.84388 Z","fill","#000000","opacity","0.3"],["d","M6.5,21 C5.67157288,21 5,20.3284271 5,19.5 C5,18.6715729 5.67157288,18 6.5,18 C7.32842712,18 8,18.6715729 8,19.5 C8,20.3284271 7.32842712,21 6.5,21 Z M15.5,21 C14.6715729,21 14,20.3284271 14,19.5 C14,18.6715729 14.6715729,18 15.5,18 C16.3284271,18 17,18.6715729 17,19.5 C17,20.3284271 16.3284271,21 15.5,21 Z","fill","#000000"]],template:function(t,e){1&t&&(b.Yb(0,"div",0),b.Yb(1,"div",1),b.Yb(2,"div",2),b.Yb(3,"h3",3),b.Tb(4,"i",4),b.Nc(5," Listado de las Ordenes"),b.Xb(),b.Xb(),b.Tb(6,"div",5),b.Xb(),b.Yb(7,"div",6),b.Lc(8,Y,2,0,"ng-container",7),b.nc(9,"async"),b.Yb(10,"div",8),b.Yb(11,"div",9),b.Yb(12,"input",10),b.ic("ngModelChange",function(t){return e.search=t}),b.Xb(),b.Yb(13,"small",11),b.Yb(14,"b"),b.Nc(15,"Buscar"),b.Xb(),b.Nc(16,"producto por nombre Cliente"),b.Xb(),b.Xb(),b.Xb(),b.Yb(17,"div",12),b.Yb(18,"button",13),b.ic("click",function(){return e.allSales()}),b.Tb(19,"i",14),b.Xb(),b.Yb(20,"button",15),b.ic("click",function(){return e.reset()}),b.Tb(21,"i",16),b.Xb(),b.Xb(),b.Xb(),b.Yb(22,"div",17),b.Yb(23,"table",18),b.Yb(24,"thead"),b.Yb(25,"tr",19),b.Yb(26,"th"),b.Nc(27,"Transacci\xf3n"),b.Xb(),b.Yb(28,"th"),b.Nc(29,"Metodo de pago"),b.Xb(),b.Yb(30,"th"),b.Nc(31,"Tipo de Moneda de la Venta"),b.Xb(),b.Yb(32,"th"),b.Nc(33,"Cliente"),b.Xb(),b.Yb(34,"th"),b.Nc(35,"Total"),b.Xb(),b.Yb(36,"th"),b.Nc(37,"Acci\xf3n"),b.Xb(),b.Xb(),b.Xb(),b.Yb(38,"tbody"),b.Lc(39,g,19,5,"tr",20),b.Xb(),b.Xb(),b.Xb(),b.Xb()),2&t&&(b.Fb(8),b.sc("ngIf",b.oc(9,5,e.isLoading$)),b.Fb(4),b.sc("ngModel",e.search),b.Fb(6),b.sc("ngbTooltip","Filtro"),b.Fb(2),b.sc("ngbTooltip","Reset"),b.Fb(19),b.sc("ngForOf",e.SALES))},directives:[n.n,X.d,X.n,X.q,s.Y,n.m],pipes:[n.b],styles:[""]}),t})()},{path:"",redirectTo:"lista-de-ordenes",pathMatch:"full"},{path:"**",redirectTo:"lista-de-ordenes",pathMatch:"full"}]}];let w=(()=>{class t{}return t.\u0275mod=b.Qb({type:t}),t.\u0275inj=b.Pb({factory:function(e){return new(e||t)},imports:[[i.k.forChild(v)],i.k]}),t})();var T=c("e8Ap"),N=c("Br0f");let y=(()=>{class t{}return t.\u0275mod=b.Qb({type:t}),t.\u0275inj=b.Pb({factory:function(e){return new(e||t)},imports:[[n.c,w,d.c,X.j,s.A,X.t,T.b,N.a,s.z,s.r]]}),t})()}}]);