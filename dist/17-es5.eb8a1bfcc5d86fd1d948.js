!function(){function e(e,n){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){i&&(e=i);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,a=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return s=e.done,e},e:function(e){a=!0,c=e},f:function(){try{s||null==i.return||i.return()}finally{if(a)throw c}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=c(e);if(t){var r=c(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return o(this,n)}}function o(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)}function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{DZYb:function(t,o,c){"use strict";c.r(o),c.d(o,"ProductsModule",function(){return Ie});var a,u=c("ofXK"),b=c("tyNb"),d=c("/rCd"),p=c("fXoL"),h=c("7Dfe"),g=c("tk/3"),f=c("2Vo4"),m=c("nYR2"),v=c("0np6"),y=c("tmEo"),Y=((a=function(){function e(t,n){s(this,e),this.http=t,this.authservice=n,this.isLoadingSubject=new f.a(!1),this.isLoading$=this.isLoadingSubject.asObservable()}return l(e,[{key:"getInfo",value:function(){var e=this;this.isLoadingSubject.next(!0);var t=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.get(v.b+"/products/get_info",{headers:t}).pipe(Object(m.a)(function(){return e.isLoadingSubject.next(!1)}))}},{key:"allProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.isLoadingSubject.next(!0);var i=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.get(v.b+"/products/all?page="+t+n,{headers:i}).pipe(Object(m.a)(function(){return e.isLoadingSubject.next(!1)}))}},{key:"showProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.get(v.b+"/products/show_product/"+e,{headers:n}).pipe(Object(m.a)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"createProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.post(v.b+"/products/add",e,{headers:n}).pipe(Object(m.a)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"updateProduct",value:function(e,t){var n=this;this.isLoadingSubject.next(!0);var i=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.post(v.b+"/products/update/"+e,t,{headers:i}).pipe(Object(m.a)(function(){return n.isLoadingSubject.next(!1)}))}},{key:"addImagenProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.post(v.b+"/products/imgs/add",e,{headers:n}).pipe(Object(m.a)(function(){return t.isLoadingSubject.next(!1)}))}},{key:"deleteImagenProduct",value:function(e){var t=this;this.isLoadingSubject.next(!0);var n=new g.d({Authorization:"Bearer "+this.authservice.token});return this.http.delete(v.b+"/products/imgs/delete/"+e,{headers:n}).pipe(Object(m.a)(function(){return t.isLoadingSubject.next(!1)}))}}]),e}()).\u0275fac=function(e){return new(e||a)(p.fc(g.b),p.fc(y.a))},a.\u0275prov=p.Ob({token:a,factory:a.\u0275fac,providedIn:"root"}),a),X=c("3Pt+");function w(e,t){}var _,C,k,S,M=function(){var e="undefined"!=typeof window?window:void 0;return e&&e.tinymce?e.tinymce:null},N=((_=l(function e(){s(this,e),this.onBeforePaste=new p.p,this.onBlur=new p.p,this.onClick=new p.p,this.onContextMenu=new p.p,this.onCopy=new p.p,this.onCut=new p.p,this.onDblclick=new p.p,this.onDrag=new p.p,this.onDragDrop=new p.p,this.onDragEnd=new p.p,this.onDragGesture=new p.p,this.onDragOver=new p.p,this.onDrop=new p.p,this.onFocus=new p.p,this.onFocusIn=new p.p,this.onFocusOut=new p.p,this.onKeyDown=new p.p,this.onKeyPress=new p.p,this.onKeyUp=new p.p,this.onMouseDown=new p.p,this.onMouseEnter=new p.p,this.onMouseLeave=new p.p,this.onMouseMove=new p.p,this.onMouseOut=new p.p,this.onMouseOver=new p.p,this.onMouseUp=new p.p,this.onPaste=new p.p,this.onSelectionChange=new p.p,this.onActivate=new p.p,this.onAddUndo=new p.p,this.onBeforeAddUndo=new p.p,this.onBeforeExecCommand=new p.p,this.onBeforeGetContent=new p.p,this.onBeforeRenderUI=new p.p,this.onBeforeSetContent=new p.p,this.onChange=new p.p,this.onClearUndos=new p.p,this.onDeactivate=new p.p,this.onDirty=new p.p,this.onExecCommand=new p.p,this.onGetContent=new p.p,this.onHide=new p.p,this.onInit=new p.p,this.onInitNgModel=new p.p,this.onLoadContent=new p.p,this.onNodeChange=new p.p,this.onPostProcess=new p.p,this.onPostRender=new p.p,this.onPreInit=new p.p,this.onPreProcess=new p.p,this.onProgressState=new p.p,this.onRedo=new p.p,this.onRemove=new p.p,this.onReset=new p.p,this.onResizeEditor=new p.p,this.onSaveContent=new p.p,this.onSetAttrib=new p.p,this.onObjectResizeStart=new p.p,this.onObjectResized=new p.p,this.onObjectSelected=new p.p,this.onSetContent=new p.p,this.onShow=new p.p,this.onSubmit=new p.p,this.onUndo=new p.p,this.onVisualAid=new p.p})).\u0275fac=function(e){return new(e||_)},_.\u0275dir=p.Nb({type:_,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),_),O=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],I=function(e,t){return"string"==typeof e?e.split(",").map(function(e){return e.trim()}):Array.isArray(e)?e:t},E=0,x=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++E+String(t)},P=function(e){return void 0!==e&&"textarea"===e.tagName.toLowerCase()},F=function(e){return void 0===e||""===e?[]:Array.isArray(e)?e:e.split(" ")},L=function(){},A=function(e){return null==e},D=function(){return{listeners:[],scriptId:x("tiny-script"),scriptLoaded:!1}},R=(C=D(),{load:function(e,t,n){C.scriptLoaded?n():(C.listeners.push(n),e.getElementById(C.scriptId)||function(e,t,n,i){var o=t.createElement("script");o.referrerPolicy="origin",o.type="application/javascript",o.id=e,o.src=n,o.addEventListener("load",function e(){o.removeEventListener("load",e),C.listeners.forEach(function(e){return e()}),C.scriptLoaded=!0}),t.head&&t.head.appendChild(o)}(C.scriptId,e,t))},reinitialize:function(){C=D()}}),j=new p.u("TINYMCE_SCRIPT_SRC"),T={provide:X.l,useExisting:Object(p.Y)(function(){return z}),multi:!0},z=((S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n(e,t)}(o,e);var t=i(o);function o(e,n,i,c){var a;return s(this,o),(a=t.call(this)).platformId=i,a.tinymceScriptSrc=c,a.cloudChannel="5",a.apiKey="no-api-key",a.id="",a.modelEvents="change input undo redo",a.onTouchedCallback=L,a._elementRef=e,a.ngZone=n,a.initialise=a.initialise.bind(r(a)),a}return l(o,[{key:"disabled",get:function(){return this._disabled},set:function(e){this._disabled=e,this._editor&&this._editor.initialized&&this._editor.setMode(e?"readonly":"design")}},{key:"editor",get:function(){return this._editor}},{key:"writeValue",value:function(e){this._editor&&this._editor.initialized?this._editor.setContent(A(e)?"":e):this.initialValue=null===e?void 0:e}},{key:"registerOnChange",value:function(e){this.onChangeCallback=e}},{key:"registerOnTouched",value:function(e){this.onTouchedCallback=e}},{key:"setDisabledState",value:function(e){this._editor?this._editor.setMode(e?"readonly":"design"):e&&(this.init=Object.assign(Object.assign({},this.init),{readonly:!0}))}},{key:"ngAfterViewInit",value:function(){var e;Object(u.C)(this.platformId)&&(this.id=this.id||x("tiny-angular"),this.inline=void 0!==this.inline?!1!==this.inline:!!(null===(e=this.init)||void 0===e?void 0:e.inline),this.createElement(),null!==M()?this.initialise():this._element&&this._element.ownerDocument&&R.load(this._element.ownerDocument,this.getScriptSrc(),this.initialise.bind(this)))}},{key:"ngOnDestroy",value:function(){null!==M()&&M().remove(this._editor)}},{key:"createElement",value:function(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn("TinyMCE-Angular: an element with id [".concat(this.id,"] already exists. Editors with duplicate Id will not be able to mount")),this._element.id=this.id,P(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}},{key:"initialise",value:function(){var e,t,n=this,i=Object.assign(Object.assign({},this.init),{target:this._element,inline:this.inline,readonly:this.disabled,plugins:(e=this.init&&this.init.plugins,t=this.plugins,F(e).concat(F(t))),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:function(e){n._editor=e,e.on("init",function(t){n.initEditor(e)}),function(e,t){(function(e){var t=I(e.ignoreEvents,[]);return I(e.allowedEvents,O).filter(function(e){return O.includes(e)&&!t.includes(e)})})(e).forEach(function(n){var i=e[n];t.on(n.substring(2),function(n){return e.ngZone.run(function(){return i.emit({event:n,editor:t})})})})}(n,e),n.init&&"function"==typeof n.init.setup&&n.init.setup(e)}});P(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(function(){M().init(i)})}},{key:"getScriptSrc",value:function(){return A(this.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(this.apiKey,"/tinymce/").concat(this.cloudChannel,"/tinymce.min.js"):this.tinymceScriptSrc}},{key:"initEditor",value:function(e){var t=this;e.on("blur",function(){return t.ngZone.run(function(){return t.onTouchedCallback()})}),e.on(this.modelEvents,function(){return t.ngZone.run(function(){return t.emitOnChange(e)})}),"string"==typeof this.initialValue&&this.ngZone.run(function(){e.setContent(t.initialValue),e.getContent()!==t.initialValue&&t.emitOnChange(e),void 0!==t.onInitNgModel&&t.onInitNgModel.emit(e)})}},{key:"emitOnChange",value:function(e){this.onChangeCallback&&this.onChangeCallback(e.getContent({format:this.outputFormat}))}}]),o}(N)).\u0275fac=function(e){return new(e||S)(p.Sb(p.m),p.Sb(p.E),p.Sb(p.G),p.Sb(j,8))},S.\u0275cmp=p.Mb({type:S,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",id:"id",modelEvents:"modelEvents",disabled:"disabled",initialValue:"initialValue",init:"init",inline:"inline",outputFormat:"outputFormat",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents"},features:[p.Eb([T]),p.Cb],decls:1,vars:0,template:function(e,t){1&e&&p.Lc(0,w,0,0,"ng-template")},styles:["[_nghost-%COMP%] { display: block; }"]}),S),U=((k=l(function e(){s(this,e)})).\u0275mod=p.Qb({type:k}),k.\u0275inj=p.Pb({factory:function(e){return new(e||k)},imports:[[u.c,X.j]]}),k);function B(e,t){1&e&&(p.Wb(0),p.Tb(1,"span",38),p.Vb())}function G(e,t){if(1&e&&(p.Wb(0),p.Yb(1,"option",39),p.Nc(2),p.Xb(),p.Vb()),2&e){var n=t.$implicit;p.Fb(1),p.sc("value",n.id),p.Fb(1),p.Oc(n.name)}}function V(e,t){if(1&e&&(p.Yb(0,"div",40),p.Tb(1,"img",41),p.Xb()),2&e){var n=p.mc();p.Fb(1),p.sc("src",n.imagen_previzualiza,p.Ec)}}function $(e,t){if(1&e){var n=p.Zb();p.Yb(0,"tr"),p.Yb(1,"td"),p.Nc(2),p.Xb(),p.Yb(3,"td"),p.Yb(4,"button",42),p.ic("click",function(){p.Cc(n);var e=t.index;return p.mc().removeTags(e)}),p.Nc(5,"-"),p.Xb(),p.Xb(),p.Xb()}if(2&e){var i=t.$implicit;p.Fb(2),p.Oc(i)}}function K(e,t){if(1&e&&(p.Yb(0,"span"),p.Yb(1,"b"),p.Nc(2),p.Xb(),p.Xb()),2&e){var n=p.mc();p.Fb(2),p.Pc("Imagen: ",n.img_files.name,"")}}function Z(e,t){if(1&e){var n=p.Zb();p.Yb(0,"tr"),p.Yb(1,"td"),p.Tb(2,"img",43),p.Xb(),p.Yb(3,"td"),p.Nc(4),p.Xb(),p.Yb(5,"td"),p.Yb(6,"button",42),p.ic("click",function(){p.Cc(n);var e=t.index;return p.mc().removeImages(e)}),p.Nc(7,"-"),p.Xb(),p.Xb(),p.Xb()}if(2&e){var i=t.$implicit;p.Fb(2),p.sc("src",i.show,p.Ec),p.Fb(2),p.Pc("",i.file.name," ")}}var W,H=function(){return["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]},Q=function(e){return{height:250,language:"es",plugins:e,toolbar:"undo redo | formatselect | bold italic backcolor | \n                        alignleft aligncenter alignright alignjustify | \n                        bullist numlist outdent indent | removeformat | help"}},q=((W=function(){function t(e,n){s(this,t),this.toaster=e,this._productService=n,this.title=null,this.sku=null,this.categorie_id="",this.price_soles="",this.price_usd="",this.stock=0,this.resumen=null,this.description=null,this.state="1",this.tags=[],this.text=null,this.categories=[],this.imagen_file=null,this.imagen_previzualiza=null,this.images_files=[],this.img_files=null,this.img_previzualizar=null}return l(t,[{key:"ngOnInit",value:function(){var e=this;this.isLoading$=this._productService.isLoading$,this._productService.getInfo().subscribe(function(t){e.categories=t.categories})}},{key:"loadServices",value:function(){var e=this;this._productService.isLoadingSubject.next(!0),setTimeout(function(){e._productService.isLoadingSubject.next(!1)},50)}},{key:"processFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(d.a,{text:"danger-'El Archivo Cargado No Es Una Imagen'"});else{this.imagen_file=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.imagen_file),n.onloadend=function(){return t.imagen_previzualiza=n.result},this.loadServices()}}},{key:"addTags",value:function(){this.tags.push(this.text),this.text=null}},{key:"removeTags",value:function(e){this.tags.splice(e,1)}},{key:"addFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(d.a,{text:"danger-'El Archivo Cargado No Es Una Imagen'"});else{this.img_files=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.img_files),n.onloadend=function(){return t.img_previzualizar=n.result}}}},{key:"addImages",value:function(){this.images_files.push({file:this.img_files,show:this.img_previzualizar}),this.img_files=null,this.img_previzualizar=null}},{key:"removeImages",value:function(e){this.images_files.splice(e,1)}},{key:"createProduct",value:function(){var t=this;if(this.title&&this.sku&&this.categorie_id&&this.price_soles&&this.price_usd&&this.resumen&&this.description&&this.stock&&this.imagen_file)if(0!=this.images_files.length){var n=new FormData;n.append("title",this.title),n.append("sku",this.sku),n.append("categorie_id",this.categorie_id),n.append("price_soles",this.price_soles),n.append("price_usd",this.price_usd),n.append("resumen",this.resumen),n.append("description",this.description),n.append("imagen_file",this.imagen_file),n.append("tags",this.tags),n.append("stock",this.stock);var i,o=0,r=e(this.images_files);try{for(r.s();!(i=r.n()).done;){var c=i.value;n.append("files["+o+"]",c.file),o++}}catch(s){r.e(s)}finally{r.f()}this._productService.createProduct(n).subscribe(function(e){console.log(e),t.toaster.open(d.a,{text:"primary-'El Producto se Resgistro Correctamente'"}),t.title=null,t.sku=null,t.categorie_id=null,t.price_soles=null,t.price_usd=null,t.resumen=null,t.description=null,t.imagen_file=null,t.imagen_previzualiza=null,t.tags=[],t.images_files=[],t.stock=null})}else this.toaster.open(d.a,{text:"danger-'Debes ingresar un conjunto de imagenes'"});else this.toaster.open(d.a,{text:"danger-'Todos los campos son obligatorios'"})}}]),t}()).\u0275fac=function(e){return new(e||W)(p.Sb(h.b),p.Sb(Y))},W.\u0275cmp=p.Mb({type:W,selectors:[["app-add-new-product"]],decls:104,vars:21,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","flaticon-bag","mx-2"],[1,"card-toolbar"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row"],[1,"col-5"],[1,"form-label"],["type","text","name","title","placeholder","Ingrese un nombre","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"col-3"],["type","text","name","sku","placeholder","SKU","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["name","categorie_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["type","text","name","price_soles","placeholder","/S","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["type","text","name","price_usd","placeholder","$","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"col-4"],[1,"row"],[1,"col-12"],[1,"custom-file"],["type","file","id","customFile","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],["class","col-12 py-2",4,"ngIf"],["name","resumen","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngModel","init","ngModelChange"],[1,"col-6"],[1,"d-flex"],["type","text","name","TASG","placeholder","Ingrese un nombre","autocomplete","off",1,"form-control","form-control-solid","form-control-lg","w-50",3,"ngModel","ngModelChange"],[1,"ml-5","btn","btn-sm","btn-primary",3,"click"],[1,"table-responsive","w-50"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[1,"table-responsive","w-100"],["type","number","name","stock",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"btn","btn-md","btn-primary",3,"click"],[1,"spinner","spinner-primary","ml-5"],[3,"value"],[1,"col-12","py-2"],["alt","",1,"w-100",3,"src"],[1,"ml-5","btn","btn-sm","btn-danger",3,"click"],["alt","",1,"w-40",3,"src"]],template:function(e,t){1&e&&(p.Yb(0,"div",0),p.Yb(1,"div",1),p.Yb(2,"div",2),p.Yb(3,"h3",3),p.Tb(4,"i",4),p.Nc(5,"Agregar Nuevo Producto"),p.Xb(),p.Xb(),p.Tb(6,"div",5),p.Xb(),p.Yb(7,"div",6),p.Lc(8,B,2,0,"ng-container",7),p.nc(9,"async"),p.Yb(10,"div",8),p.Yb(11,"div",9),p.Yb(12,"label",10),p.Nc(13,"Nombres del Producto: *"),p.Xb(),p.Yb(14,"input",11),p.ic("ngModelChange",function(e){return t.title=e}),p.Xb(),p.Xb(),p.Yb(15,"div",12),p.Yb(16,"label",10),p.Nc(17,"SKU: *"),p.Xb(),p.Yb(18,"input",13),p.ic("ngModelChange",function(e){return t.sku=e}),p.Xb(),p.Xb(),p.Yb(19,"div",12),p.Yb(20,"label",10),p.Nc(21,"Categoria: *"),p.Xb(),p.Yb(22,"select",14),p.ic("ngModelChange",function(e){return t.categorie_id=e}),p.Yb(23,"option",15),p.Nc(24,"Ninguno"),p.Xb(),p.Lc(25,G,3,2,"ng-container",16),p.Xb(),p.Xb(),p.Xb(),p.Yb(26,"div",8),p.Yb(27,"div",12),p.Yb(28,"label",10),p.Nc(29,"Precio en Soles: *"),p.Xb(),p.Yb(30,"input",17),p.ic("ngModelChange",function(e){return t.price_soles=e}),p.Xb(),p.Xb(),p.Yb(31,"div",12),p.Yb(32,"label",10),p.Nc(33,"Precio en USD: *"),p.Xb(),p.Yb(34,"input",18),p.ic("ngModelChange",function(e){return t.price_usd=e}),p.Xb(),p.Xb(),p.Yb(35,"div",19),p.Yb(36,"div",20),p.Yb(37,"div",21),p.Yb(38,"label",10),p.Nc(39,"Portada del producto: *"),p.Xb(),p.Yb(40,"div",22),p.Yb(41,"input",23),p.ic("change",function(e){return t.processFile(e)}),p.Xb(),p.Yb(42,"label",24),p.Nc(43,"Buscar Archivo"),p.Xb(),p.Xb(),p.Xb(),p.Lc(44,V,2,1,"div",25),p.Xb(),p.Xb(),p.Xb(),p.Yb(45,"div",8),p.Yb(46,"div",9),p.Yb(47,"label",10),p.Nc(48,"Resumen del Producto: *"),p.Xb(),p.Yb(49,"textarea",26),p.ic("ngModelChange",function(e){return t.resumen=e}),p.Xb(),p.Xb(),p.Yb(50,"div",9),p.Yb(51,"label",10),p.Nc(52,"Descripci\xf3n del Producto: *"),p.Xb(),p.Yb(53,"editor",27),p.ic("ngModelChange",function(e){return t.description=e}),p.Xb(),p.Xb(),p.Xb(),p.Yb(54,"div",8),p.Yb(55,"div",28),p.Yb(56,"label",10),p.Nc(57,"Etiquetas: *"),p.Xb(),p.Yb(58,"div",29),p.Yb(59,"input",30),p.ic("ngModelChange",function(e){return t.text=e}),p.Xb(),p.Yb(60,"button",31),p.ic("click",function(){return t.addTags()}),p.Nc(61,"+"),p.Xb(),p.Xb(),p.Yb(62,"div",32),p.Yb(63,"table",33),p.Yb(64,"thead"),p.Yb(65,"tr",34),p.Yb(66,"th"),p.Nc(67,"Palabras:"),p.Xb(),p.Yb(68,"th"),p.Nc(69,"Accion"),p.Xb(),p.Xb(),p.Xb(),p.Yb(70,"tbody"),p.Lc(71,$,6,1,"tr",16),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Yb(72,"div",28),p.Yb(73,"label",10),p.Nc(74,"Imagenes: *"),p.Xb(),p.Yb(75,"div",29),p.Yb(76,"div",22),p.Yb(77,"input",23),p.ic("change",function(e){return t.addFile(e)}),p.Xb(),p.Yb(78,"label",24),p.Nc(79,"Choose file"),p.Xb(),p.Xb(),p.Yb(80,"button",31),p.ic("click",function(){return t.addImages()}),p.Nc(81,"+"),p.Xb(),p.Xb(),p.Lc(82,K,3,1,"span",7),p.Yb(83,"div",35),p.Yb(84,"table",33),p.Yb(85,"thead"),p.Yb(86,"tr",34),p.Yb(87,"th"),p.Nc(88,"Imagen"),p.Xb(),p.Yb(89,"th"),p.Nc(90,"Nombre"),p.Xb(),p.Yb(91,"th"),p.Nc(92,"Accion"),p.Xb(),p.Xb(),p.Xb(),p.Yb(93,"tbody"),p.Lc(94,Z,8,2,"tr",16),p.Xb(),p.Xb(),p.Xb(),p.Yb(95,"div",8),p.Yb(96,"div",12),p.Yb(97,"label",10),p.Nc(98," Stock: *"),p.Xb(),p.Yb(99,"input",36),p.ic("ngModelChange",function(e){return t.stock=e}),p.Xb(),p.Xb(),p.Xb(),p.Yb(100,"div",8),p.Yb(101,"div",28),p.Yb(102,"button",37),p.ic("click",function(){return t.createProduct()}),p.Nc(103,"Cargar Producto"),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb()),2&e&&(p.Fb(8),p.sc("ngIf",p.oc(9,16,t.isLoading$)),p.Fb(6),p.sc("ngModel",t.title),p.Fb(4),p.sc("ngModel",t.sku),p.Fb(4),p.sc("ngModel",t.categorie_id),p.Fb(3),p.sc("ngForOf",t.categories),p.Fb(5),p.sc("ngModel",t.price_soles),p.Fb(4),p.sc("ngModel",t.price_usd),p.Fb(10),p.sc("ngIf",t.imagen_previzualiza),p.Fb(5),p.sc("ngModel",t.resumen),p.Fb(4),p.sc("ngModel",t.description)("init",p.wc(19,Q,p.vc(18,H))),p.Fb(6),p.sc("ngModel",t.text),p.Fb(12),p.sc("ngForOf",t.tags),p.Fb(11),p.sc("ngIf",t.img_files),p.Fb(12),p.sc("ngForOf",t.images_files),p.Fb(5),p.sc("ngModel",t.stock))},directives:[u.n,X.d,X.n,X.q,X.v,X.r,X.x,u.m,z,X.s],pipes:[u.b],styles:[""]}),W),J=c("1kSV");function ee(e,t){1&e&&(p.Wb(0),p.Tb(1,"span",25),p.Vb())}function te(e,t){1&e&&(p.Yb(0,"span",38),p.Nc(1,"DEMO"),p.Xb())}function ne(e,t){1&e&&(p.Yb(0,"span",39),p.Nc(1,"PUBLICO"),p.Xb())}function ie(e,t){1&e&&(p.Yb(0,"span",40),p.Nc(1,"BLOQUEADO"),p.Xb())}var oe=function(e){return{"background-image":e}},re=function(e){return["/products/edit-product",e]};function ce(e,t){if(1&e&&(p.Yb(0,"tr"),p.Yb(1,"td"),p.Yb(2,"div",26),p.Tb(3,"div",27),p.Xb(),p.Xb(),p.Yb(4,"td"),p.Nc(5),p.Xb(),p.Yb(6,"td"),p.Nc(7),p.Xb(),p.Yb(8,"td"),p.Nc(9),p.Xb(),p.Yb(10,"td"),p.Nc(11),p.Xb(),p.Tb(12,"td"),p.Yb(13,"td"),p.Lc(14,te,2,0,"span",28),p.Lc(15,ne,2,0,"span",29),p.Lc(16,ie,2,0,"span",30),p.Xb(),p.Yb(17,"td"),p.Yb(18,"a",31),p.Yb(19,"span",32),p.lc(),p.Yb(20,"svg",33),p.Yb(21,"g",34),p.Tb(22,"rect",35),p.Tb(23,"path",36),p.Tb(24,"path",37),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb()),2&e){var n=t.$implicit;p.Fb(3),p.sc("ngStyle",p.wc(9,oe,"url("+n.imagen+")")),p.Fb(2),p.Pc(" ",n.title," "),p.Fb(2),p.Pc(" ",n.categorie.name," "),p.Fb(2),p.Pc(" ",n.price_soles," PEN "),p.Fb(2),p.Pc(" ",n.price_usd," USD"),p.Fb(3),p.sc("ngIf",1==n.state),p.Fb(1),p.sc("ngIf",2==n.state),p.Fb(1),p.sc("ngIf",3==n.state),p.Fb(2),p.sc("routerLink",p.wc(11,re,n.id))}}var se,ae=((se=function(){function e(t){s(this,e),this._productServices=t,this.products=[],this.isLoading$=null,this.search=null}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productServices.isLoadingSubject,this.allProducts()}},{key:"allProducts",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n="";this.search&&(n=n+"&search="+this.search),this._productServices.allProducts(t,n).subscribe(function(t){console.log(t),e.products=t.products.data})}},{key:"reset",value:function(){this.search=null,this.allProducts()}},{key:"edit",value:function(e){}},{key:"delete",value:function(e){}}]),e}()).\u0275fac=function(e){return new(e||se)(p.Sb(Y))},se.\u0275cmp=p.Mb({type:se,selectors:[["app-list-products"]],decls:45,vars:7,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","flaticon2-box","mx-2"],[1,"card-toolbar"],["type","button","routerLink","/products/add-product",1,"btn","btn-primary"],[1,"icon-2x","text-white","flaticon-add-circular-button"],[1,"card-body"],[4,"ngIf"],[1,"row"],[1,"col-6"],["type","text","name","search","placeholder","Buscar","value","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-text","text-muted"],[1,"col-3"],["placement","top",1,"btn","btn-primary","ml-2",3,"ngbTooltip","click"],[1,"icon","text-white","flaticon-search-1"],["placement","top",1,"btn","btn-dark","ml-2",3,"ngbTooltip","click"],[1,"icon","text-white","flaticon-refresh"],[1,"table-responsive"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[2,"min-width","100px"],[1,"pr-0","text-right",2,"min-width","150px"],[4,"ngFor","ngForOf"],[1,"spinner","spinner-primary","ml-5"],[1,"symbol","symbol-50","flex-shrink-0","mr-4"],[1,"symbol-label",3,"ngStyle"],["class","label label-lg label-inline label-light-danger",4,"ngIf"],["class","label label-lg label-inline label-light-success",4,"ngIf"],["class","label label-lg label-inline label-light-warning",4,"ngIf"],["ngbTooltip","Editar Producto","ngbTooltipClass","kt-tooltip",1,"btn","btn-icon","btn-light","btn-hover-primary","btn-sm","mx-1",3,"routerLink"],[1,"svg-icon","svg-icon-md","svg-icon-primary"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","width","24px","height","24px","viewBox","0 0 24 24","version","1.1"],["stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["x","0","y","0","width","24","height","24"],["d","M12.2674799,18.2323597 L12.0084872,5.45852451 C12.0004303,5.06114792 12.1504154,4.6768183 12.4255037,4.38993949 L15.0030167,1.70195304 L17.5910752,4.40093695 C17.8599071,4.6812911 18.0095067,5.05499603 18.0083938,5.44341307 L17.9718262,18.2062508 C17.9694575,19.0329966 17.2985816,19.701953 16.4718324,19.701953 L13.7671717,19.701953 C12.9505952,19.701953 12.2840328,19.0487684 12.2674799,18.2323597 Z","fill","#000000","fill-rule","nonzero","transform","translate(14.701953, 10.701953) rotate(-135.000000) translate(-14.701953, -10.701953)"],["d","M12.9,2 C13.4522847,2 13.9,2.44771525 13.9,3 C13.9,3.55228475 13.4522847,4 12.9,4 L6,4 C4.8954305,4 4,4.8954305 4,6 L4,18 C4,19.1045695 4.8954305,20 6,20 L18,20 C19.1045695,20 20,19.1045695 20,18 L20,13 C20,12.4477153 20.4477153,12 21,12 C21.5522847,12 22,12.4477153 22,13 L22,18 C22,20.209139 20.209139,22 18,22 L6,22 C3.790861,22 2,20.209139 2,18 L2,6 C2,3.790861 3.790861,2 6,2 L12.9,2 Z","fill","#000000","fill-rule","nonzero","opacity","0.3"],[1,"label","label-lg","label-inline","label-light-danger"],[1,"label","label-lg","label-inline","label-light-success"],[1,"label","label-lg","label-inline","label-light-warning"]],template:function(e,t){1&e&&(p.Yb(0,"div",0),p.Yb(1,"div",1),p.Yb(2,"div",2),p.Yb(3,"h3",3),p.Tb(4,"i",4),p.Nc(5," Lista de Productos"),p.Xb(),p.Xb(),p.Yb(6,"div",5),p.Yb(7,"a",6),p.Tb(8,"i",7),p.Nc(9,"Nuevo Producto"),p.Xb(),p.Xb(),p.Xb(),p.Yb(10,"div",8),p.Lc(11,ee,2,0,"ng-container",9),p.nc(12,"async"),p.Yb(13,"div",10),p.Yb(14,"div",11),p.Yb(15,"input",12),p.ic("ngModelChange",function(e){return t.search=e}),p.Xb(),p.Yb(16,"small",13),p.Yb(17,"b"),p.Nc(18,"Buscar"),p.Xb(),p.Nc(19,"producto por nombre"),p.Xb(),p.Xb(),p.Yb(20,"div",14),p.Yb(21,"button",15),p.ic("click",function(){return t.allProducts()}),p.Tb(22,"i",16),p.Xb(),p.Yb(23,"button",17),p.ic("click",function(){return t.reset()}),p.Tb(24,"i",18),p.Xb(),p.Xb(),p.Xb(),p.Yb(25,"div",19),p.Yb(26,"table",20),p.Yb(27,"thead"),p.Yb(28,"tr",21),p.Yb(29,"th"),p.Nc(30,"Imagen"),p.Xb(),p.Yb(31,"th"),p.Nc(32,"Nombre del Producto"),p.Xb(),p.Yb(33,"th"),p.Nc(34,"Categoria"),p.Xb(),p.Yb(35,"th"),p.Nc(36,"Precio PEN"),p.Xb(),p.Yb(37,"th"),p.Nc(38,"Precio USD"),p.Xb(),p.Yb(39,"th",22),p.Nc(40,"Status"),p.Xb(),p.Yb(41,"th",23),p.Nc(42,"Acci\xf3n"),p.Xb(),p.Xb(),p.Xb(),p.Yb(43,"tbody"),p.Lc(44,ce,25,13,"tr",24),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb()),2&e&&(p.Fb(11),p.sc("ngIf",p.oc(12,5,t.isLoading$)),p.Fb(4),p.sc("ngModel",t.search),p.Fb(6),p.sc("ngbTooltip","Filtro"),p.Fb(2),p.sc("ngbTooltip","Reset"),p.Fb(21),p.sc("ngForOf",t.products))},directives:[b.j,u.n,X.d,X.n,X.q,J.Y,u.m,u.o],pipes:[u.b],styles:[""]}),se);function le(e,t){1&e&&(p.Wb(0),p.Yb(1,"div",9),p.Tb(2,"div",10),p.Xb(),p.Vb())}function ue(e,t){1&e&&(p.Wb(0),p.Yb(1,"div",11),p.Tb(2,"div",12),p.Xb(),p.Vb())}var be,de=((be=function(){function e(t,n){s(this,e),this._productService=t,this.modal=n,this.imagen_=null,this.ImagenE=new p.p,this.isLoading=!1}return l(e,[{key:"ngOnInit",value:function(){this.isLoading$=this._productService.isLoading$}},{key:"delete",value:function(){var e=this;this._productService.deleteImagenProduct(this.imagen_.id).subscribe(function(t){console.log(t),e.modal.close(),e.ImagenE.emit(e.imagen_)})}}]),e}()).\u0275fac=function(e){return new(e||be)(p.Sb(Y),p.Sb(J.d))},be.\u0275cmp=p.Mb({type:be,selectors:[["app-delete-imagen-p"]],inputs:{imagen_:"imagen_"},outputs:{ImagenE:"ImagenE"},decls:17,vars:4,consts:[[4,"ngIf"],[1,"modal-content"],[1,"modal-header"],["id","example-modal-sizes-title-lg",1,"modal-title","h4"],[1,"icon-2x","text-dark-50","fas","fa-user-times","mx-2"],[1,"overlay","overlay-block","cursor-default","modal-body"],[1,"modal-footer"],["type","button",1,"btn","btn-light","btn-elevate","mr-2",3,"click"],["type","submit",1,"btn","btn-danger","btn-elevate","mr-2",3,"click"],[1,"progress","progress-modal"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated","bg-primary",2,"width","100%"],[1,"overlay-layer","bg-transparent"],[1,"spinner","spinner-lg","spinner-success"]],template:function(e,t){1&e&&(p.Lc(0,le,3,0,"ng-container",0),p.Yb(1,"div",1),p.Yb(2,"div",2),p.Yb(3,"div",3),p.Tb(4,"i",4),p.Nc(5),p.Xb(),p.Xb(),p.Yb(6,"div",5),p.Lc(7,ue,3,0,"ng-container",0),p.Yb(8,"span"),p.Nc(9,"\xbfESTAS SEGURO DE ELIMINAR ESTA IMAGEN?: "),p.Yb(10,"b"),p.Nc(11),p.Xb(),p.Xb(),p.Xb(),p.Yb(12,"div",6),p.Yb(13,"button",7),p.ic("click",function(){return t.modal.dismiss()}),p.Nc(14," Cancel "),p.Xb(),p.Yb(15,"button",8),p.ic("click",function(){return t.delete()}),p.Nc(16," ELIMINAR "),p.Xb(),p.Xb(),p.Xb()),2&e&&(p.sc("ngIf",t.isLoading),p.Fb(5),p.Pc(" Iliminar Imagen : ",t.imagen_.file_name," "),p.Fb(2),p.sc("ngIf",t.isLoading$),p.Fb(4),p.Oc(t.imagen_.file_name))},styles:[""]}),be);function pe(e,t){1&e&&(p.Wb(0),p.Tb(1,"span",42),p.Vb())}function he(e,t){if(1&e&&(p.Wb(0),p.Yb(1,"option",43),p.Nc(2),p.Xb(),p.Vb()),2&e){var n=t.$implicit;p.Fb(1),p.sc("value",n.id),p.Fb(1),p.Oc(n.name)}}function ge(e,t){if(1&e&&(p.Yb(0,"div",44),p.Tb(1,"img",45),p.Xb()),2&e){var n=p.mc();p.Fb(1),p.sc("src",n.imagen_previzualiza,p.Ec)}}function fe(e,t){if(1&e){var n=p.Zb();p.Yb(0,"tr"),p.Yb(1,"td"),p.Nc(2),p.Xb(),p.Yb(3,"td"),p.Yb(4,"button",46),p.ic("click",function(){p.Cc(n);var e=t.index;return p.mc().removeTags(e)}),p.Nc(5,"-"),p.Xb(),p.Xb(),p.Xb()}if(2&e){var i=t.$implicit;p.Fb(2),p.Oc(i)}}function me(e,t){if(1&e&&(p.Yb(0,"span"),p.Yb(1,"b"),p.Nc(2),p.Xb(),p.Xb()),2&e){var n=p.mc();p.Fb(2),p.Pc("IMAGEN: ",n.img_files.name,"")}}function ve(e,t){if(1&e){var n=p.Zb();p.Yb(0,"tr"),p.Yb(1,"td"),p.Tb(2,"img",47),p.Xb(),p.Yb(3,"td"),p.Nc(4),p.Xb(),p.Yb(5,"td"),p.Yb(6,"button",46),p.ic("click",function(){p.Cc(n);var e=t.$implicit;return p.mc().removeImages(e)}),p.Nc(7,"-"),p.Xb(),p.Xb(),p.Xb()}if(2&e){var i=t.$implicit;p.Fb(2),p.sc("src",i.imagen,p.Ec),p.Fb(2),p.Oc(i.file_name)}}var ye,Ye,Xe,we,_e=function(){return["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"]},Ce=function(e){return{height:250,language:"es",plugins:e,toolbar:"undo redo | formatselect | bold italic backcolor | \n                        alignleft aligncenter alignright alignjustify | \n                        bullist numlist outdent indent | removeformat | help"}},ke=((ye=function(){function e(t,n,i,o,r){s(this,e),this.toaster=t,this._productService=n,this.router=i,this.activerouter=o,this.modelService=r,this.title=null,this.sku=null,this.categorie_id="",this.price_soles="",this.price_usd="",this.resumen=null,this.description=null,this.categories=[],this.text=null,this.tags=[],this.imagen_file=null,this.imagen_previzualiza=null,this.images_files=[],this.img_files=null,this.img_previzualizar=null,this.product_id=null,this.product={title:""},this.state=1,this.stock=""}return l(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading$=this._productService.isLoading$,this.activerouter.params.subscribe(function(t){e.product_id=t.id||""}),this._productService.getInfo().subscribe(function(t){e.categories=t.categories}),this._productService.showProduct(this.product_id).subscribe(function(t){console.log(t),e.product=t.product,e.title=e.product.title,e.sku=e.product.sku,e.categorie_id=e.product.categorie_id,e.price_soles=e.product.price_soles,e.price_usd=e.product.price_usd,e.resumen=e.product.resumen,e.description=e.product.description,e.tags=e.product.tags_a,e.imagen_previzualiza=e.product.imagen,e.images_files=e.product.images,e.stock=e.product.stock,e.state=e.product.state})}},{key:"loadServices",value:function(){var e=this;this._productService.isLoadingSubject.next(!0),setTimeout(function(){e._productService.isLoadingSubject.next(!1)},50)}},{key:"processFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(d.a,{text:"danger-'EL ARCHIVO CARGADO NO ES UNA IMAGEN'"});else{this.imagen_file=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.imagen_file),n.onloadend=function(){return t.imagen_previzualiza=n.result},this.loadServices()}}},{key:"addTags",value:function(){this.tags.push(this.text),this.text=null}},{key:"removeTags",value:function(e){this.tags.splice(e,1)}},{key:"addFile",value:function(e){var t=this;if(e.target.files[0].type.indexOf("image")<0)this.toaster.open(d.a,{text:"danger-'EL ARCHIVO CARGADO NO ES UNA IMAGEN'"});else{this.img_files=e.target.files[0];var n=new FileReader;n.readAsDataURL(this.img_files),n.onloadend=function(){return t.img_previzualizar=n.result}}}},{key:"addImages",value:function(){var e=this;if(this.img_files){var t=new FormData;t.append("product_id",this.product_id),t.append("file",this.img_files),this._productService.addImagenProduct(t).subscribe(function(t){e.img_files=null,e.img_previzualizar=null,e.images_files.unshift(t.imagen)})}else this.toaster.open(d.a,{text:"danger-'DEBES AGREGAR UNA IMAGEN'"})}},{key:"removeImages",value:function(e){var t=this,n=this.modelService.open(de,{centered:!0,size:"sm"});n.componentInstance.imagen_=e,n.result.then(function(){},function(){}),n.componentInstance.ImagenE.subscribe(function(e){var n=t.images_files.findIndex(function(t){return t.id==e.id});t.images_files.splice(n,1)})}},{key:"createProduct",value:function(){var e=this;if(this.title&&this.sku&&this.categorie_id&&this.price_soles&&this.price_usd&&this.resumen&&this.description)if(0!=this.images_files.length){var t=new FormData;t.append("title",this.title),t.append("sku",this.sku),t.append("categorie_id",this.categorie_id),t.append("price_soles",this.price_soles),t.append("price_usd",this.price_usd),t.append("resumen",this.resumen),t.append("description",this.description),t.append("imagen_file",this.imagen_file),t.append("tags",this.tags),t.append("stock",this.stock),t.append("state",this.state),this._productService.updateProduct(this.product_id,t).subscribe(function(t){console.log(t),e.toaster.open(d.a,{text:"primary-'SE REGISTRO LOS CAMBIOS DEL PRODUCTO'"})})}else this.toaster.open(d.a,{text:"danger-'Debes ingresar un conjunto de imagenes'"});else this.toaster.open(d.a,{text:"danger-'TODOS LOS CAMPOS SON OBLIGATORIOS'"})}}]),e}()).\u0275fac=function(e){return new(e||ye)(p.Sb(h.b),p.Sb(Y),p.Sb(b.h),p.Sb(b.a),p.Sb(J.y))},ye.\u0275cmp=p.Mb({type:ye,selectors:[["app-edit-product"]],decls:114,vars:23,consts:[[1,"card","card-custom","gutter-b"],[1,"card-header"],[1,"card-title"],[1,"card-label"],[1,"icon-2x","text-dark-50","flaticon-bag","mx-2"],[1,"card-toolbar"],[1,"card-body"],[4,"ngIf"],[1,"form-group","row"],[1,"col-5"],[1,"form-label"],["type","text","name","title","placeholder","Nombre","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"col-3"],["type","text","name","sku","placeholder","SKU","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["name","categorie_id",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["value",""],[4,"ngFor","ngForOf"],["type","text","name","price_pen","placeholder","100","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],["type","text","name","price_usd","placeholder","200","autocomplete","off",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"col-2"],["value","1"],["value","2"],["value","3"],[1,"col-4"],[1,"row"],[1,"col-12"],[1,"custom-file"],["type","file","id","customFile","accept",".jpeg, .bmp, .jpg, .png, .gif, .webp",1,"custom-file-input",3,"change"],["for","customFile",1,"custom-file-label"],["class","col-12 py-2",4,"ngIf"],["name","descriptions","placeholder","","rows","4",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-6"],[3,"ngModel","init","ngModelChange"],[1,"d-flex"],["type","text","name","TAGS","placeholder","Nombre","autocomplete","off",1,"form-control","form-control-solid","form-control-lg","w-50",3,"ngModel","ngModelChange"],[1,"ml-5","btn","btn-sm","btn-primary",3,"click"],[1,"table-responsive","w-50"],["id","kt_advance_table_widget_1",1,"table","table-head-custom","table-vertical-center"],[1,"text-left"],[1,"table-responsive","w-100"],["type","number","name","stock",1,"form-control","form-control-solid","form-control-lg",3,"ngModel","ngModelChange"],[1,"btn","btn-md","btn-primary",3,"click"],[1,"spinner","spinner-primary","ml-5"],[3,"value"],[1,"col-12","py-2"],["alt","",1,"w-100",3,"src"],[1,"ml-5","btn","btn-sm","btn-danger",3,"click"],["alt","",1,"w-50",3,"src"]],template:function(e,t){1&e&&(p.Yb(0,"div",0),p.Yb(1,"div",1),p.Yb(2,"div",2),p.Yb(3,"h3",3),p.Tb(4,"i",4),p.Nc(5),p.Xb(),p.Xb(),p.Tb(6,"div",5),p.Xb(),p.Yb(7,"div",6),p.Lc(8,pe,2,0,"ng-container",7),p.nc(9,"async"),p.Yb(10,"div",8),p.Yb(11,"div",9),p.Yb(12,"label",10),p.Nc(13,"Nombre del producto: *"),p.Xb(),p.Yb(14,"input",11),p.ic("ngModelChange",function(e){return t.title=e}),p.Xb(),p.Xb(),p.Yb(15,"div",12),p.Yb(16,"label",10),p.Nc(17,"SKU: *"),p.Xb(),p.Yb(18,"input",13),p.ic("ngModelChange",function(e){return t.sku=e}),p.Xb(),p.Xb(),p.Yb(19,"div",12),p.Yb(20,"label",10),p.Nc(21,"CATEGORIA : *"),p.Xb(),p.Yb(22,"select",14),p.ic("ngModelChange",function(e){return t.categorie_id=e}),p.Yb(23,"option",15),p.Nc(24,"Ninguno"),p.Xb(),p.Lc(25,he,3,2,"ng-container",16),p.Xb(),p.Xb(),p.Xb(),p.Yb(26,"div",8),p.Yb(27,"div",12),p.Yb(28,"label",10),p.Nc(29,"PRECIO EN PEN: *"),p.Xb(),p.Yb(30,"input",17),p.ic("ngModelChange",function(e){return t.price_soles=e}),p.Xb(),p.Xb(),p.Yb(31,"div",12),p.Yb(32,"label",10),p.Nc(33,"PRECIO EN USD: *"),p.Xb(),p.Yb(34,"input",18),p.ic("ngModelChange",function(e){return t.price_usd=e}),p.Xb(),p.Xb(),p.Yb(35,"div",19),p.Yb(36,"label",10),p.Nc(37,"ESTADO DEL PRODUCTO : *"),p.Xb(),p.Yb(38,"select",14),p.ic("ngModelChange",function(e){return t.state=e}),p.Yb(39,"option",20),p.Nc(40," DEMO"),p.Xb(),p.Yb(41,"option",21),p.Nc(42," PUBLICO"),p.Xb(),p.Yb(43,"option",22),p.Nc(44," BLOQUEADO"),p.Xb(),p.Xb(),p.Xb(),p.Yb(45,"div",23),p.Yb(46,"div",24),p.Yb(47,"div",25),p.Yb(48,"label",10),p.Nc(49,"IMAGEN DE PORTADA: *"),p.Xb(),p.Yb(50,"div",26),p.Yb(51,"input",27),p.ic("change",function(e){return t.processFile(e)}),p.Xb(),p.Yb(52,"label",28),p.Nc(53,"Elija el archivo"),p.Xb(),p.Xb(),p.Xb(),p.Lc(54,ge,2,1,"div",29),p.Xb(),p.Xb(),p.Xb(),p.Yb(55,"div",8),p.Yb(56,"div",9),p.Yb(57,"label",10),p.Nc(58,"RESUMEN DEL PRODUCTO: *"),p.Xb(),p.Yb(59,"textarea",30),p.ic("ngModelChange",function(e){return t.resumen=e}),p.Xb(),p.Xb(),p.Yb(60,"div",31),p.Yb(61,"label",10),p.Nc(62,"DESCRIPCI\xd3N DEL PRODUCTO: *"),p.Xb(),p.Yb(63,"editor",32),p.ic("ngModelChange",function(e){return t.description=e}),p.Xb(),p.Xb(),p.Xb(),p.Yb(64,"div",8),p.Yb(65,"div",31),p.Yb(66,"label",10),p.Nc(67,"ETIQUETAS: *"),p.Xb(),p.Yb(68,"div",33),p.Yb(69,"input",34),p.ic("ngModelChange",function(e){return t.text=e}),p.Xb(),p.Yb(70,"button",35),p.ic("click",function(){return t.addTags()}),p.Nc(71,"+"),p.Xb(),p.Xb(),p.Yb(72,"div",36),p.Yb(73,"table",37),p.Yb(74,"thead"),p.Yb(75,"tr",38),p.Yb(76,"th"),p.Nc(77,"PALABRA"),p.Xb(),p.Yb(78,"th"),p.Nc(79,"ACCI\xd3N"),p.Xb(),p.Xb(),p.Xb(),p.Yb(80,"tbody"),p.Lc(81,fe,6,1,"tr",16),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Yb(82,"div",31),p.Yb(83,"label",10),p.Nc(84,"IMAGENES: *"),p.Xb(),p.Yb(85,"div",33),p.Yb(86,"div",26),p.Yb(87,"input",27),p.ic("change",function(e){return t.addFile(e)}),p.Xb(),p.Yb(88,"label",28),p.Nc(89,"Choose file"),p.Xb(),p.Xb(),p.Yb(90,"button",35),p.ic("click",function(){return t.addImages()}),p.Nc(91,"+"),p.Xb(),p.Xb(),p.Lc(92,me,3,1,"span",7),p.Yb(93,"div",39),p.Yb(94,"table",37),p.Yb(95,"thead"),p.Yb(96,"tr",38),p.Yb(97,"th"),p.Nc(98,"IMAGEN"),p.Xb(),p.Yb(99,"th"),p.Nc(100,"NOMBRE"),p.Xb(),p.Yb(101,"th"),p.Nc(102,"ACCI\xd3N"),p.Xb(),p.Xb(),p.Xb(),p.Yb(103,"tbody"),p.Lc(104,ve,8,2,"tr",16),p.Xb(),p.Xb(),p.Xb(),p.Yb(105,"div",8),p.Yb(106,"div",12),p.Yb(107,"label",10),p.Nc(108," Stock: *"),p.Xb(),p.Yb(109,"input",40),p.ic("ngModelChange",function(e){return t.stock=e}),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Yb(110,"div",8),p.Yb(111,"div",31),p.Yb(112,"button",41),p.ic("click",function(){return t.createProduct()}),p.Nc(113,"EDITAR PRODUCTO"),p.Xb(),p.Xb(),p.Xb(),p.Xb(),p.Xb()),2&e&&(p.Fb(5),p.Pc(" EDITAR PRODUCTO : ",t.product.title,""),p.Fb(3),p.sc("ngIf",p.oc(9,18,t.isLoading$)),p.Fb(6),p.sc("ngModel",t.title),p.Fb(4),p.sc("ngModel",t.sku),p.Fb(4),p.sc("ngModel",t.categorie_id),p.Fb(3),p.sc("ngForOf",t.categories),p.Fb(5),p.sc("ngModel",t.price_soles),p.Fb(4),p.sc("ngModel",t.price_usd),p.Fb(4),p.sc("ngModel",t.state),p.Fb(16),p.sc("ngIf",t.imagen_previzualiza),p.Fb(5),p.sc("ngModel",t.resumen),p.Fb(4),p.sc("ngModel",t.description)("init",p.wc(21,Ce,p.vc(20,_e))),p.Fb(6),p.sc("ngModel",t.text),p.Fb(12),p.sc("ngForOf",t.tags),p.Fb(11),p.sc("ngIf",t.img_files),p.Fb(12),p.sc("ngForOf",t.images_files),p.Fb(5),p.sc("ngModel",t.stock))},directives:[u.n,X.d,X.n,X.q,X.v,X.r,X.x,u.m,z,X.s],pipes:[u.b],styles:[""]}),ye),Se=[{path:"",component:(Ye=function(){function e(){s(this,e)}return l(e,[{key:"ngOnInit",value:function(){}}]),e}(),Ye.\u0275fac=function(e){return new(e||Ye)},Ye.\u0275cmp=p.Mb({type:Ye,selectors:[["app-products"]],decls:1,vars:0,template:function(e,t){1&e&&p.Tb(0,"router-outlet")},directives:[b.l],styles:[""]}),Ye),children:[{path:"add-product",component:q},{path:"list-product",component:ae},{path:"edit-product/:id",component:ke},{path:"",redirectTo:"add-product",pathMatch:"full"},{path:"**",redirectTo:"add-product",pathMatch:"full"}]}],Me=((Xe=l(function e(){s(this,e)})).\u0275mod=p.Qb({type:Xe}),Xe.\u0275inj=p.Pb({factory:function(e){return new(e||Xe)},imports:[[b.k.forChild(Se)],b.k]}),Xe),Ne=c("e8Ap"),Oe=c("Br0f"),Ie=((we=l(function e(){s(this,e)})).\u0275mod=p.Qb({type:we}),we.\u0275inj=p.Pb({factory:function(e){return new(e||we)},imports:[[u.c,Me,g.c,X.j,J.A,X.t,Ne.b,Oe.a,J.z,J.r,U]]}),we)}}])}();